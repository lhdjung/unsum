<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Complete Listing of Original Samples of Underlying Raw Evidence • unsum</title>
<!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="katex-auto.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Complete Listing of Original Samples of Underlying Raw Evidence">
<meta name="description" content="Reconstructs all possible raw data that could have led to reported summary statistics. Provides a wrapper for the Rust implementation of the CLOSURE algorithm.">
<meta property="og:description" content="Reconstructs all possible raw data that could have led to reported summary statistics. Provides a wrapper for the Rust implementation of the CLOSURE algorithm.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">unsum</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/unsum.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/install-rust.html">Installing Rust for unsum</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lhdjung/unsum/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="unsum-reconstruct-raw-data-from-summary-statistics">unsum: reconstruct raw data from summary statistics<a class="anchor" aria-label="anchor" href="#unsum-reconstruct-raw-data-from-summary-statistics"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of unsum is to <strong>un</strong>do <strong>sum</strong>marization: reconstruct all possible samples that may underlie a given set of summary statistics. It is currently implemented for sets of mean, SD, sample size, and scale bounds. This can be useful in error detection to identify impossible or implausible reported numbers.</p>
<p>The package features <em>CLOSURE: Complete Listing of Original Samples of Underlying Raw Evidence</em>, a fast algorithm implemented in Rust.</p>
<p>CLOSURE is exhaustive, which makes it computationally intensive. If your code takes too long to run, consider using <a href="https://lukaswallrich.github.io/rsprite2/" class="external-link">SPRITE</a> instead (see <em>Previous work</em> below).</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of unsum from <a href="https://github.com/" class="external-link">GitHub</a> with either of these:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"lhdjung/unsum"</span><span class="op">)</span></span>
<span><span class="co"># or</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"lhdjung/unsum"</span><span class="op">)</span></span></code></pre></div>
<p>Your R version should be 4.2.0 or more recent. To run unsum, you also need a Rust installation; see <code><a href="articles/install-rust.html">vignette("install-rust")</a></code>.</p>
</div>
<div class="section level2">
<h2 id="get-started">Get started<a class="anchor" aria-label="anchor" href="#get-started"></a>
</h2>
<p>Start with <code><a href="reference/closure_combine.html">closure_combine()</a></code>, the package’s main function. It creates all possible samples:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lhdjung/unsum" class="external-link">unsum</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/closure_combine.html">closure_combine</a></span><span class="op">(</span></span>
<span>  mean <span class="op">=</span> <span class="st">"2.7"</span>,</span>
<span>  sd <span class="op">=</span> <span class="st">"1.9"</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">130</span>,</span>
<span>  scale_min <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  scale_max <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span></span>
<span><span class="co">#&gt; $inputs</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 5</span></span>
<span><span class="co">#&gt;   mean  sd        n scale_min scale_max</span></span>
<span><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 2.7   1.9     130         1         5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $metrics</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 5</span></span>
<span><span class="co">#&gt;   combos_initial combos_all values_all horns horns_uniform</span></span>
<span><span class="co">#&gt;            &lt;int&gt;      &lt;int&gt;      &lt;int&gt; &lt;dbl&gt;         &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1             15       5359     696670 0.881           0.5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $frequency</span></span>
<span><span class="co">#&gt; # A tibble: 5 × 4</span></span>
<span><span class="co">#&gt;   value f_average f_absolute f_relative</span></span>
<span><span class="co">#&gt;   &lt;int&gt;     &lt;dbl&gt;      &lt;int&gt;      &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1     1     67.0      358972     0.515 </span></span>
<span><span class="co">#&gt; 2     2      5.63      30170     0.0433</span></span>
<span><span class="co">#&gt; 3     3      4.09      21940     0.0315</span></span>
<span><span class="co">#&gt; 4     4      5.63      30162     0.0433</span></span>
<span><span class="co">#&gt; 5     5     47.7      255426     0.367 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $results</span></span>
<span><span class="co">#&gt; # A tibble: 5,359 × 2</span></span>
<span><span class="co">#&gt;       id combination</span></span>
<span><span class="co">#&gt;    &lt;int&gt; &lt;list&gt;     </span></span>
<span><span class="co">#&gt;  1     1 &lt;int [130]&gt;</span></span>
<span><span class="co">#&gt;  2     2 &lt;int [130]&gt;</span></span>
<span><span class="co">#&gt;  3     3 &lt;int [130]&gt;</span></span>
<span><span class="co">#&gt;  4     4 &lt;int [130]&gt;</span></span>
<span><span class="co">#&gt;  5     5 &lt;int [130]&gt;</span></span>
<span><span class="co">#&gt;  6     6 &lt;int [130]&gt;</span></span>
<span><span class="co">#&gt;  7     7 &lt;int [130]&gt;</span></span>
<span><span class="co">#&gt;  8     8 &lt;int [130]&gt;</span></span>
<span><span class="co">#&gt;  9     9 &lt;int [130]&gt;</span></span>
<span><span class="co">#&gt; 10    10 &lt;int [130]&gt;</span></span>
<span><span class="co">#&gt; # ℹ 5,349 more rows</span></span></code></pre></div>
<p>Visualize the overall distribution of values found in the combinations:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/closure_plot_bar.html">closure_plot_bar</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-3-1.png" alt="Barplot of `data`, the CLOSURE output. It specifically visualizes the `f_average` column of the `frequency` tibble, but also gives percentage figures, similar to the `f_relative` column. The overall shape is a somewhat polarized distribution." width="100%"></p>
</div>
<div class="section level2">
<h2 id="previous-work">Previous work<a class="anchor" aria-label="anchor" href="#previous-work"></a>
</h2>
<p><a href="https://lukaswallrich.github.io/rsprite2" class="external-link">SPRITE</a> generates random datasets that could have led to the reported statistics. CLOSURE is exhaustive, so it always finds all possible datasets, not just a random sample of them. For the same reason, SPRITE runs fast when CLOSURE may take too long.</p>
<p><a href="https://lhdjung.github.io/scrutiny/" class="external-link">GRIM and GRIMMER</a> test reported summary statistics for consistency, but CLOSURE is the ultimate consistency test: if it finds at least one distribution, the statistics are consistent; and if not, they cannot all be correct.</p>
<p><a href="https://github.com/katherinemwood/corvids" class="external-link">CORVIDS</a> deserves credit as the first technique to reconstruct all possible underlying datasets. However, it takes very long to run, often prohibitively so. This is partly because the code is written in Python, but the algorithm is also inherently much more complex than CLOSURE.</p>
</div>
<div class="section level2">
<h2 id="about">About<a class="anchor" aria-label="anchor" href="#about"></a>
</h2>
<p>The CLOSURE algorithm was originally written <a href="https://github.com/larigaldie-n/CLOSURE-Python" class="external-link">in Python</a> by Nathanael Larigaldie. The R package unsum provides easy access to an optimized implementation in Rust, <a href="https://crates.io/crates/closure-core" class="external-link">closure-core</a>, via the amazing <a href="https://extendr.github.io/" class="external-link">extendr</a> framework. Rust code tends to run much faster than R or Python code, which is required for many applications of CLOSURE.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/lhdjung/unsum/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/lhdjung/unsum/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing unsum</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Lukas Jung <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lukas Jung.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
