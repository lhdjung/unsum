<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Horns index for each CLOSURE sample — closure_horns_analyze • unsum</title><!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Horns index for each CLOSURE sample — closure_horns_analyze"><meta name="description" content='Following up on closure_generate(), you can call
closure_horns_analyze() to compute the horns index for each individual
sample and compute summary statistics on the distribution of these indices.
See horns() for the metric itself.
This adds more detail to the "horns" and "horns_uniform" columns in the
output of closure_generate(), where "horns" is the overall mean of the
per-sample indices found here.
closure_horns_histogram() draws a quick barplot to reveal the
distribution of horns values. The scale is fixed between 0 and 1.'><meta property="og:description" content='Following up on closure_generate(), you can call
closure_horns_analyze() to compute the horns index for each individual
sample and compute summary statistics on the distribution of these indices.
See horns() for the metric itself.
This adds more detail to the "horns" and "horns_uniform" columns in the
output of closure_generate(), where "horns" is the overall mean of the
per-sample indices found here.
closure_horns_histogram() draws a quick barplot to reveal the
distribution of horns values. The scale is fixed between 0 and 1.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">unsum</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/unsum.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lhdjung/unsum/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Horns index for each CLOSURE sample</h1>
      <small class="dont-index">Source: <a href="https://github.com/lhdjung/unsum/blob/master/R/horns-analyze.R" class="external-link"><code>R/horns-analyze.R</code></a></small>
      <div class="d-none name"><code>closure_horns_analyze.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Following up on <code><a href="closure_generate.html">closure_generate()</a></code>, you can call
<code>closure_horns_analyze()</code> to compute the horns index for each individual
sample and compute summary statistics on the distribution of these indices.
See <code><a href="horns.html">horns()</a></code> for the metric itself.</p>
<p>This adds more detail to the <code>"horns"</code> and <code>"horns_uniform"</code> columns in the
output of <code><a href="closure_generate.html">closure_generate()</a></code>, where <code>"horns"</code> is the overall mean of the
per-sample indices found here.</p>
<p><code>closure_horns_histogram()</code> draws a quick barplot to reveal the
distribution of horns values. The scale is fixed between 0 and 1.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">closure_horns_analyze</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">closure_horns_histogram</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  bar_alpha <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  bar_color <span class="op">=</span> <span class="st">"#5D3FD3"</span>,</span>
<span>  bar_binwidth <span class="op">=</span> <span class="fl">0.0025</span>,</span>
<span>  text_size <span class="op">=</span> <span class="fl">12</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>For <code>closure_horns_analyze()</code>, a list returned by
<code><a href="closure_generate.html">closure_generate()</a></code>. For <code>closure_horns_histogram()</code>, a list returned by
<code>closure_horns_analyze()</code>.</p></dd>


<dt id="arg-bar-alpha">bar_alpha<a class="anchor" aria-label="anchor" href="#arg-bar-alpha"></a></dt>
<dd><p>Numeric (length 1). Opacity of the bars. Default is <code>0.8</code>.</p></dd>


<dt id="arg-bar-color">bar_color<a class="anchor" aria-label="anchor" href="#arg-bar-color"></a></dt>
<dd><p>String (length 1). Color of the bars. Default is
<code>"#5D3FD3"</code>, a purple color.</p></dd>


<dt id="arg-bar-binwidth">bar_binwidth<a class="anchor" aria-label="anchor" href="#arg-bar-binwidth"></a></dt>
<dd><p>Width of the bins that divide up the x-axis, passed on to
<code><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">ggplot2::geom_histogram()</a></code>. Default is <code>0.0025</code>.</p></dd>


<dt id="arg-text-size">text_size<a class="anchor" aria-label="anchor" href="#arg-text-size"></a></dt>
<dd><p>Numeric. Base font size in pt. Default is <code>12</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>closure_horns_analyze()</code> returns a named list of two tibbles (data
frames):</p><ul><li><p><strong>horns_metrics</strong>: Summary statistics of the distribution of horns index
values:</p><ul><li><p><code>mean</code>, <code>uniform</code>: same as <code>horns</code> and <code>horns_uniform</code> from
<code><a href="closure_generate.html">closure_generate()</a></code>'s output.</p></li>
<li><p><code>sd</code>: double. Standard deviation.</p></li>
<li><p><code>cv</code>: double. Coefficient of variation, i.e., <code>sd / mean</code>.</p></li>
<li><p><code>mad</code>: double. Median absolute deviation; see <code><a href="https://rdrr.io/r/stats/mad.html" class="external-link">stats::mad()</a></code>.</p></li>
<li><p><code>min</code>, <code>median</code>, <code>max</code>: double. Minimum, median, and maximum horns
index.</p></li>
<li><p><code>range</code>: double. Equal to <code>max - min</code>.</p></li>
</ul></li>
<li><p><strong>horns_results</strong>:</p><ul><li><p><code>id</code>: integer. Uniquely identifies each horns index, just like their
corresponding samples in <code><a href="closure_generate.html">closure_generate()</a></code>.</p></li>
<li><p><code>horns</code>: double. Horns index for each individual sample.</p></li>
</ul></li>
</ul><p><code>closure_horns_histogram()</code> returns a ggplot object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>"mad"</code> column overrides a default of <code><a href="https://rdrr.io/r/stats/mad.html" class="external-link">stats::mad()</a></code>: adjusting
the result via multiplication by a constant (about 1.48). This assumes a
normal distribution, which generally does not seem to be the case with
horns index values. Here, the constant is set to 1.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="closure_generate.html">closure_generate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  mean <span class="op">=</span> <span class="st">"2.9"</span>,</span></span>
<span class="r-in"><span>  sd <span class="op">=</span> <span class="st">"0.5"</span>,</span></span>
<span class="r-in"><span>  n <span class="op">=</span> <span class="fl">70</span>,</span></span>
<span class="r-in"><span>  scale_min <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  scale_max <span class="op">=</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">data_horns</span> <span class="op">&lt;-</span> <span class="fu">closure_horns_analyze</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data_horns</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $closure_generate_inputs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mean  sd        n scale_min scale_max rounding   threshold</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 2.9   0.5      70         1         5 up_or_down         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $horns_metrics</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     mean uniform      sd    cv     mad    min median    max  range</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 0.064<span style="text-decoration: underline;">3</span>     0.5 0.006<span style="text-decoration: underline;">90</span> 0.107 0.005<span style="text-decoration: underline;">51</span> 0.051<span style="text-decoration: underline;">1</span> 0.065<span style="text-decoration: underline;">4</span> 0.073<span style="text-decoration: underline;">7</span> 0.022<span style="text-decoration: underline;">7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $horns_results</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 219 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       id  horns</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>     1 0.056<span style="text-decoration: underline;">3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>     2 0.052<span style="text-decoration: underline;">3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>     3 0.056<span style="text-decoration: underline;">3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>     4 0.063<span style="text-decoration: underline;">5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>     5 0.052<span style="text-decoration: underline;">3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>     6 0.070<span style="text-decoration: underline;">6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>     7 0.059<span style="text-decoration: underline;">4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>     8 0.055<span style="text-decoration: underline;">3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>     9 0.063<span style="text-decoration: underline;">5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>    10 0.070<span style="text-decoration: underline;">6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 209 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">closure_horns_histogram</span><span class="op">(</span><span class="va">data_horns</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="closure_horns_analyze-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lukas Jung.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

